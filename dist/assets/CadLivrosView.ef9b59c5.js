import{a as u}from"./index.becf6c0c.js";import{A as _}from"./autores.88c6c41e.js";import{C as y}from"./categorias.adcfd988.js";import{E as f}from"./editoras.4fcc30a4.js";import{_ as L,o as a,c as r,a as t,w as l,v,b as m,F as b,r as h,t as i}from"./index.1193129b.js";class C{async buscarTodosOsLivros(){return(await u.get("https://biblioinfo-backend1.herokuapp.com/livros")).data}async buscarLivro(o){return(await u.get(`https://biblioinfo-backend1.herokuapp.com/livros/${o}`)).data}async adicionarLivro(o){return(await u.post("https://biblioinfo-backend1.herokuapp.com/livros",o)).data}async excluirLivro(o){return(await u.delete(`https://biblioinfo-backend1.herokuapp.com/livros/${o}`)).data}async atualizarLivro(o){return(await u.put(`https://biblioinfo-backend1.herokuapp.com/livros/${o.id}`,o)).data}}const n=new C,w=new _,k=new y,g=new f,x={data(){return{livro:{},livros:[],categorias:[],editoras:[],autores:[]}},async created(){this.livros=await n.buscarTodosOsLivros(),this.autores=await w.buscarTodosOsAutores(),this.categorias=await k.buscarTodasAsCategorias(),this.editoras=await g.buscarTodasAsEditoras()},methods:{async salvar(){this.livro.id?await n.atualizarLivro(this.livro):await n.adicionarLivro(this.livro),this.livros=await n.buscarTodosOsLivros(),this.categorias=await k.buscarTodasAsCategorias(),this.editoras=await g.buscarTodasAsEditoras(),this.autores=await w.buscarTodosOsAutores(),this.livro={}},async excluir(d){await n.excluirLivro(d.id),this.livros=await n.buscarTodosOsLivros()},editar(d){Object.assign(this.livro,d)}}},T={class:"container"},V=t("div",{class:"title"},[t("h2",null,"Cadastro de Livros")],-1),B={class:"form-input"},E=t("option",{value:"",disabled:"",selected:""},"Autor",-1),O=["value"],S=t("option",{class:"disabled",value:"",disabled:"",selected:""},"Categoria",-1),U=["value"],I=t("option",{value:"",disabled:"",selected:""},"Editora",-1),N=["value"],q={class:"list-books"},D=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"T\xEDtulo"),t("th",null,"ISBN"),t("th",null,"Categoria"),t("th",null,"Editora"),t("th",null,"Quantidade"),t("th",null,"Pre\xE7o"),t("th",null,"A\xE7\xF5es")])],-1),z=["onClick"],F=["onClick"];function M(d,o,c,P,s,p){return a(),r("main",null,[t("div",T,[V,t("div",B,[l(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>s.livro.titulo=e),placeholder:"t\xEDtulo"},null,512),[[v,s.livro.titulo]]),l(t("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>s.livro.ISBN=e),placeholder:"ISBN"},null,512),[[v,s.livro.ISBN]]),l(t("select",{class:"select-btn",name:"autor",id:"autor",placeholder:"Autor","onUpdate:modelValue":o[2]||(o[2]=e=>s.livro.autor=e)},[E,(a(!0),r(b,null,h(s.autores,e=>(a(),r("option",{key:e.id,value:e.id},i(e.nome),9,O))),128))],512),[[m,s.livro.autor]]),l(t("select",{class:"select-btn",placeholder:"Categoria",name:"categoria",id:"categoria","onUpdate:modelValue":o[3]||(o[3]=e=>s.livro.categoria=e)},[S,(a(!0),r(b,null,h(s.categorias,e=>(a(),r("option",{key:e.id,value:e.id},i(e.nome),9,U))),128))],512),[[m,s.livro.categoria]]),l(t("select",{class:"select-btn",placeholder:"Editora",name:"editora",id:"editora","onUpdate:modelValue":o[4]||(o[4]=e=>s.livro.editora=e)},[I,(a(!0),r(b,null,h(s.editoras,e=>(a(),r("option",{key:e.id,value:e.id},i(e.nome),9,N))),128))],512),[[m,s.livro.editora]]),l(t("input",{type:"number",id:"quantidade",name:"quantidade",placeholder:"Quantidade","onUpdate:modelValue":o[5]||(o[5]=e=>s.livro.quantidade=e)},null,512),[[v,s.livro.quantidade]]),l(t("input",{type:"number",id:"dinheiro",name:"dinheiro",placeholder:"Pre\xE7o em reais","onUpdate:modelValue":o[6]||(o[6]=e=>s.livro.preco=e)},null,512),[[v,s.livro.preco]]),t("button",{onClick:o[7]||(o[7]=(...e)=>p.salvar&&p.salvar(...e)),id:"save-btn"},"salvar")]),t("div",q,[t("table",null,[D,t("tbody",null,[(a(!0),r(b,null,h(s.livros,e=>(a(),r("tr",{key:e.id},[t("td",null,i(e.id),1),t("td",null,i(e.titulo),1),t("td",null,i(e.ISBN),1),t("td",null,i(e.categoria),1),t("td",null,i(e.editora),1),t("td",null,i(e.quantidade),1),t("td",null,i(e.preco),1),t("td",null,[t("div",null,[t("button",{class:"edit-btn",onClick:A=>p.editar(e)}," editar ",8,z),t("button",{class:"edit-btn",onClick:A=>p.excluir(e)}," excluir ",8,F)])])]))),128))])])])])])}var K=L(x,[["render",M]]);export{K as default};
